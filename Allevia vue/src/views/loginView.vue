
<template>
  <section class="loginSection d-flex justify-content-center mt-3">
    <div class="row shadow p-3 mb-5 bg-body-tertiary">
      <div class="col-5 column-2 d-none d-md-block">
        <nav>
          <img src="./Assets/logo.png" height="50" class="logo-1" alt="" />
        </nav>
        <div class="container-fluid side text-center">
          <h2 class="text-nowrap">Download</h2>

          <a href="">
            <div class="down android" id="g">
              <!--<i class="fa fa-android fa-2x"></i>-->
              <svg
                class="fas"
                xmlns="http://www.w3.org/2000/svg"
                width="40"
                height="40"
                fill="currentColor"
                viewBox="0 0 16 16"
              >
                <path
                  d="m10.213 1.471.691-1.26q.069-.124-.048-.192-.128-.057-.195.058l-.7 1.27A4.8 4.8 0 0 0 8.005.941q-1.032 0-1.956.404l-.7-1.27Q5.281-.037 5.154.02q-.117.069-.049.193l.691 1.259a4.25 4.25 0 0 0-1.673 1.476A3.7 3.7 0 0 0 3.5 5.02h9q0-1.125-.623-2.072a4.27 4.27 0 0 0-1.664-1.476ZM6.22 3.303a.37.37 0 0 1-.267.11.35.35 0 0 1-.263-.11.37.37 0 0 1-.107-.264.37.37 0 0 1 .107-.265.35.35 0 0 1 .263-.11q.155 0 .267.11a.36.36 0 0 1 .112.265.36.36 0 0 1-.112.264m4.101 0a.35.35 0 0 1-.262.11.37.37 0 0 1-.268-.11.36.36 0 0 1-.112-.264q0-.154.112-.265a.37.37 0 0 1 .268-.11q.155 0 .262.11a.37.37 0 0 1 .107.265q0 .153-.107.264M3.5 11.77q0 .441.311.75.311.306.76.307h.758l.01 2.182q0 .414.292.703a.96.96 0 0 0 .7.288.97.97 0 0 0 .71-.288.95.95 0 0 0 .292-.703v-2.182h1.343v2.182q0 .414.292.703a.97.97 0 0 0 .71.288.97.97 0 0 0 .71-.288.95.95 0 0 0 .292-.703v-2.182h.76q.436 0 .749-.308.31-.307.311-.75V5.365h-9zm10.495-6.587a.98.98 0 0 0-.702.278.9.9 0 0 0-.293.685v4.063q0 .406.293.69a.97.97 0 0 0 .702.284q.42 0 .712-.284a.92.92 0 0 0 .293-.69V6.146a.9.9 0 0 0-.293-.685 1 1 0 0 0-.712-.278m-12.702.283a1 1 0 0 1 .712-.283q.41 0 .702.283a.9.9 0 0 1 .293.68v4.063a.93.93 0 0 1-.288.69.97.97 0 0 1-.707.284 1 1 0 0 1-.712-.284.92.92 0 0 1-.293-.69V6.146q0-.396.293-.68"
                />
              </svg>
              <span class="one">Download from</span>
              <span class="two">Google Play</span>
            </div>
          </a>

          <a href="">
            <div class="down apple mt-3">
              <!-- <i class="fa fa-apple fa-2x"></i>-->
              <svg
                class="fas"
                xmlns="http://www.w3.org/2000/svg"
                width="40"
                height="40"
                fill="currentColor"
                viewBox="0 0 16 16"
              >
                <path
                  d="M11.182.008C11.148-.03 9.923.023 8.857 1.18c-1.066 1.156-.902 2.482-.878 2.516s1.52.087 2.475-1.258.762-2.391.728-2.43m3.314 11.733c-.048-.096-2.325-1.234-2.113-3.422s1.675-2.789 1.698-2.854-.597-.79-1.254-1.157a3.7 3.7 0 0 0-1.563-.434c-.108-.003-.483-.095-1.254.116-.508.139-1.653.589-1.968.607-.316.018-1.256-.522-2.267-.665-.647-.125-1.333.131-1.824.328-.49.196-1.422.754-2.074 2.237-.652 1.482-.311 3.83-.067 4.56s.625 1.924 1.273 2.796c.576.984 1.34 1.667 1.659 1.899s1.219.386 1.843.067c.502-.308 1.408-.485 1.766-.472.357.013 1.061.154 1.782.539.571.197 1.111.115 1.652-.105.541-.221 1.324-1.059 2.238-2.758q.52-1.185.473-1.282"
                />
                <path
                  d="M11.182.008C11.148-.03 9.923.023 8.857 1.18c-1.066 1.156-.902 2.482-.878 2.516s1.52.087 2.475-1.258.762-2.391.728-2.43m3.314 11.733c-.048-.096-2.325-1.234-2.113-3.422s1.675-2.789 1.698-2.854-.597-.79-1.254-1.157a3.7 3.7 0 0 0-1.563-.434c-.108-.003-.483-.095-1.254.116-.508.139-1.653.589-1.968.607-.316.018-1.256-.522-2.267-.665-.647-.125-1.333.131-1.824.328-.49.196-1.422.754-2.074 2.237-.652 1.482-.311 3.83-.067 4.56s.625 1.924 1.273 2.796c.576.984 1.34 1.667 1.659 1.899s1.219.386 1.843.067c.502-.308 1.408-.485 1.766-.472.357.013 1.061.154 1.782.539.571.197 1.111.115 1.652-.105.541-.221 1.324-1.059 2.238-2.758q.52-1.185.473-1.282"
                />
              </svg>
              <span class="one">Download from</span>
              <span class="two">App Store</span>
            </div>
          </a>

          <!-- <div><button class="btn signin border border-black rounded-pill"><a href="./signup.html" class="text-decoration-none text-dark">SIGN UP</a></button></div>-->
        </div>
      </div>

      <div class="col col-md-7 mobile">
        <div class="container createAcc d-block">
          <h1 class="text-center mb-5 create mt-4">SIGN IN</h1>
          <h1 class="text-center mb-5 create fw-light">WELCOME BACK!</h1>
        </div>

        <!-- Form section -->

        <div class="container d-flex justify-content-center">
          <form
          @submit.prevent="login"
            action=""
            class="w-md-75 w-100 bg-tertiary p-4 rounded-2 mb-3 form-1"
          >
            <div class="input-group mb-3">
              <input
              v-model="form.email"
                type="text"
                class="form-control shadow"
                placeholder="Email"
                aria-label="Recipient's email"
                aria-describedby="basic-addon2"
              />
              <span class="input-group-text" id="basic-addon2"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="rgb(71, 85, 54,100%)"
                  class="bi bi-envelope"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"
                  /></svg
              ></span>
            </div>
            <div class="input-group mb-3">
              <input
              v-model="form.password"
                type="text"
                class="form-control shadow"
                placeholder="Password"
                aria-label="Recipient's password"
                aria-describedby="basic-addon2"
              />
              <span class="input-group-text" id="basic-addon2"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="rgb(71, 85, 54,100%)"
                  class="bi bi-lock"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2m3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2M5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1"
                  /></svg
              ></span>
            </div>
            <div class="d-flex justify-content-between mb-3">
              <small class="fw-bold">
                <input type="checkbox" name="remember me" />
                <label for="remember me" class="ms-1 mb-1"> Remember me</label>
              </small>
              <small class="fw-light"
                ><RouterLink to="/forgot-password"
                  >Forgot password?</RouterLink
                ></small
              >
            </div>
            <div class="buttonContainer d-flex justify-content-center">
              <button
                type="submit"
                class="btn button w-md-25 w-50 rounded-pill"
              >
                SIGN IN
              </button>
            </div>

            <!-- Media handle components -->
            <MediaHandles />

            <div class="mt-5 mx-5 d-flex justify-content-center">
              <h6>
                Don't have an account?
                <RouterLink to="/signup">Sign Up</RouterLink>
              </h6>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
</template>

<script setup>
import MediaHandles from "@/components/MediaHandles.vue";
// import logo from '@/assets/logo.png';
import { RouterLink,useRouter } from "vue-router";
import { useToast } from "vue-toastification";
import { ref,reactive } from 'vue';
import axios from "axios";


const form = reactive({
  email: '',
  password: '',
});

const toast = useToast();
const router = useRouter();
const login = async () => {
  if(!form.email || !form.password){
    toast.error("All fields must be filled!")

  } else {
    if(form.email && form.password){
    toast.success('Entries Validated!')

  }
  };

  const loginForm = {
    email: form.email,
    passord: form.password
  };
  console.log(loginForm);

  try {
    const response = await axios.post('/api/loginUser', newUser);
  toast.success('logged-In  Succesfully!')
  router.push('/admin-dashboard')
    
  } catch (error) {
    console.error("Authentication failed",error)
    toast.error("An error occurred")
    
  }
}

</script>

